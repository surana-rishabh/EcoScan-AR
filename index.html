<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EcoScan AR - Smart Recycling Guide</title>
    <meta name="description" content="Point your camera at any item and instantly learn how to recycle it properly. AI-powered recycling assistant.">
    <meta name="theme-color" content="#1a1a2e">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Camera Feed -->
    <video id="video" autoplay playsinline></video>
    <canvas id="canvas"></canvas>

    <!-- Live Detection Indicator -->
    <div id="live-indicator">
        <span class="pulse"></span>
        <span>LIVE</span>
    </div>

    <!-- Header Stats -->
    <div id="stats">
        <div class="stat-item">
            <span class="stat-icon">üìä</span>
            <div class="stat-content">
                <span class="stat-value" id="items-count">0</span>
                <span class="stat-label">Scanned</span>
            </div>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
            <span class="stat-icon">üåç</span>
            <div class="stat-content">
                <span class="stat-value"><span id="co2-count">0</span>kg</span>
                <span class="stat-label">CO‚ÇÇ Saved</span>
            </div>
        </div>
    </div>

    <!-- Scan Button -->
    <button id="scan-btn">
        <span id="scan-icon">‚ôªÔ∏è</span>
        <span id="scan-text">GET DETAILS</span>
    </button>

    <!-- Result Card -->
    <div id="result" class="hidden">
        <div class="result-handle"></div>
        <div id="result-header">
            <span id="result-icon">‚ôªÔ∏è</span>
            <h2 id="result-title">Unknown Item</h2>
        </div>
        <div id="result-category"></div>
        <div id="result-content">
            <div class="info-row">
                <span class="info-icon">üì¶</span>
                <div class="info-content">
                    <span class="info-label">Disposal</span>
                    <span id="disposal-text" class="info-value"></span>
                </div>
            </div>
            <div class="info-row">
                <span class="info-icon">üóëÔ∏è</span>
                <div class="info-content">
                    <span class="info-label">Bin</span>
                    <span id="bin-text" class="info-value"></span>
                </div>
            </div>
            <div class="info-row">
                <span class="info-icon">üí°</span>
                <div class="info-content">
                    <span class="info-label">Pro Tip</span>
                    <span id="tip-text" class="info-value"></span>
                </div>
            </div>
        </div>
        
        <!-- Web Search Button -->
        <button id="search-btn" class="search-button">
            <span>üîç Find Reuse Ideas Online</span>
        </button>
        
        <button id="close-btn" class="close-button">Close</button>
    </div>

    <!-- Loading Overlay -->
    <div id="loading" class="hidden">
        <div class="loading-content">
            <div class="logo-animation">
                <span class="logo-emoji">‚ôªÔ∏è</span>
            </div>
            <h2>EcoScan AR</h2>
            <p>Loading AI Model...</p>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- Search Modal -->
    <div id="search-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="search-modal-title">Searching...</h3>
                <button id="close-modal" class="close-modal">√ó</button>
            </div>
            <div id="search-results" class="search-results">
                <div class="search-loading">
                    <div class="spinner-small"></div>
                    <p>Searching for creative reuse ideas...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Instructions (first time users) -->
    <div id="instructions" class="instructions hidden">
        <div class="instruction-card">
            <div class="instruction-icon">üå±</div>
            <h3>Welcome to EcoScan AR!</h3>
            <p>Point your camera at <strong>any item</strong> to see real-time recycling info.</p>
            <p>Tap <strong>GET DETAILS</strong> for complete disposal instructions.</p>
            <div class="feature-list">
                <div class="feature">üì± 80+ Items Recognized</div>
                <div class="feature">üîÑ Real-Time Detection</div>
                <div class="feature">üîç Web Search for Reuse Ideas</div>
            </div>
            <button id="got-it-btn">Start Scanning</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.11.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.3"></script>
    <script src="app.js"></script>
</body>
</html>